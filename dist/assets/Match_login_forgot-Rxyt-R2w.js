import{j as e,r as n,L as g}from"./index-kDIBD4MA.js";import{l as G,M as H}from"./MatchPoint_logo-gDlrK5Gb.js";import{M as K}from"./MatchPoint_id_ic-Co95Ss2S.js";import{M as L,a as q}from"./MatchPoint_birth_ic-BRroW9OD.js";import{f as T}from"./find_account_check-DsNFd0sP.js";import{f as Q}from"./find_account_cancel-Dw7Uknn5.js";import{B as x}from"./BackArrow-BypEwUpU.js";import{D as U}from"./react-datepicker-D0Yu7m0I.js";function V({Refind_txt:r}){const i=()=>{window.location.reload()};return e.jsxs("button",{className:"Refind",onClick:i,children:[r,e.jsx("span",{className:"material-symbols-rounded",children:"arrow_back_ios"})]})}function X({FindPw_txt:r}){const i=()=>{localStorage.setItem("activeTab",1),window.location.reload()};return e.jsxs("button",{className:"FindPw",onClick:i,children:[r,e.jsx("span",{className:"material-symbols-rounded",children:"arrow_back_ios"})]})}function re(){const[r,i]=n.useState(0),[c,y]=n.useState(null),[l,N]=n.useState(""),[j,v]=n.useState(""),[I,d]=n.useState(!1),[S,u]=n.useState(!1),[A,_]=n.useState(!1),[b,h]=n.useState(!1),[w,p]=n.useState(!1),[M,f]=n.useState(!1),[P,k]=n.useState(""),[W,R]=n.useState(""),[Y,J]=n.useState("");n.useEffect(()=>{const s=localStorage.getItem("activeTab");s!==null&&i(parseInt(s))},[]),n.useEffect(()=>{b&&(console.log("아이디 찾기 팝업이 보입니다."),document.querySelector(".findIdImage").classList.add("rotate"))},[b]),n.useEffect(()=>{w&&(console.log("비밀번호 찾기 팝업이 보입니다."),document.querySelector(".findPwImage").classList.add("rotate"))},[w]),n.useEffect(()=>{M&&(console.log("아이디ㆍ비밀번호 못찾은 팝업이 보입니다."),document.querySelector(".notFindImage").classList.add("rotate"))},[M]);const F=s=>{i(s),localStorage.setItem("activeTab",s),d(!1),u(!1),_(!1),h(!1),p(!1),f(!1);const o=document.querySelector(".Match_login_forgot_warp_inner");o&&(o.style.filter="none",o.style.pointerEvents="auto")},E=s=>{const o=new Date(s),m=o.getFullYear();let a=""+(o.getMonth()+1),t=""+o.getDate();return a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),[m,a,t].join("-")},C=s=>{y(s)},D=s=>{N(s.target.value)},O=s=>{v(s.target.value)},B=s=>{s.preventDefault();const o=JSON.parse(localStorage.getItem("users"));if(!o||!Array.isArray(o)||o.length===0){alert("저장된 사용자 데이터가 없거나 잘못된 형식입니다.");return}if(r===0){if(l)d(!1);else{d(!0);return}if(c)u(!1);else{u(!0);return}const m=E(c),a=o.find(t=>t.name===l&&t.birth===m);if(a){k(a.name),R(a.id),h(!0),f(!1),p(!1);const t=document.querySelector(".Match_login_forgot_warp_inner");t&&(t.style.filter="brightness(0.5)",t.style.pointerEvents="none")}else{const t=document.querySelector(".Match_login_forgot_warp_inner");t&&(t.style.filter="brightness(0.5)",t.style.pointerEvents="none"),f(!0),h(!1),p(!1)}}else if(r===1){if(l)d(!1);else{d(!0);return}if(c)u(!1);else{u(!0);return}if(j)_(!1);else{_(!0);return}const m=E(c),a=o.find(t=>t.name===l&&t.birth===m&&t.id===j);if(a){k(a.name),J(a.password),p(!0),h(!1),f(!1);const t=document.querySelector(".Match_login_forgot_warp_inner");t&&(t.style.filter="brightness(0.5)",t.style.pointerEvents="none")}else{const t=document.querySelector(".Match_login_forgot_warp_inner");t&&(t.style.filter="brightness(0.5)",t.style.pointerEvents="none"),f(!0),h(!1),p(!1)}}},z=()=>{N(""),y(null),v(""),d(!1),u(!1),_(!1),h(!1),p(!1),f(!1);const s=document.querySelector(".Match_login_forgot_warp_inner");s&&(s.style.filter="none",s.style.pointerEvents="auto")};return e.jsxs("div",{id:"Match_login_forgot",children:[e.jsx("img",{src:G,alt:"login_back"}),e.jsxs("div",{className:"Match_login_forgot_warp",children:[b&&e.jsx("div",{className:"Match_login_forgot_popup_id_find Match_login_forgot_popup",children:e.jsxs("div",{className:"popup_id_find_inner",children:[e.jsx(g,{to:"/Match_login",children:e.jsx(x,{BackArrow_txt:"로그인 페이지로 이동"})}),e.jsx(X,{FindPw_txt:"비밀번호 찾기"}),e.jsx("img",{className:"findIdImage",src:T,alt:"find_account_check"}),e.jsxs("p",{children:["아이디 찾기가 완료되었습니다",e.jsx("br",{}),e.jsx("span",{children:P}),"님의 아이디는 ",e.jsx("em",{children:W}),"입니다"]})]})}),w&&e.jsx("div",{className:"Match_login_forgot_popup_pw_find Match_login_forgot_popup",children:e.jsxs("div",{className:"popup_pw_find_inner",children:[e.jsx(g,{to:"/Match_login",children:e.jsx(x,{BackArrow_txt:"로그인 페이지로 이동"})}),e.jsx("img",{className:"findPwImage",src:T,alt:"find_account_check"}),e.jsxs("p",{children:["비밀번호 찾기가 완료되었습니다",e.jsx("br",{}),e.jsx("span",{children:P}),"님의 비밀번호는",e.jsx("br",{}),e.jsx("em",{children:Y}),"입니다"]})]})}),M&&e.jsx("div",{className:"Match_login_forgot_popup_not Match_login_forgot_popup",children:e.jsxs("div",{className:"Match_login_forgot_popup_not_inner",children:[e.jsx(g,{to:"/Match_login",children:e.jsx(x,{BackArrow_txt:"로그인 페이지로 이동"})}),e.jsx(V,{Refind_txt:"다시 찾아보기",onClick:z}),e.jsx("img",{className:"notFindImage",src:Q,alt:"find_account_check"}),e.jsxs("p",{children:["해당하는 아이디ㆍ비밀번호를",e.jsx("br",{}),"찾을 수 없습니다."]})]})}),e.jsx(g,{to:"/Match_login",children:e.jsx(x,{BackArrow_txt:"로그인 페이지로 이동"})}),e.jsxs("div",{className:"Match_login_forgot_warp_inner",children:[e.jsx("img",{src:H,alt:"MatchPoint_logo"}),e.jsxs("div",{className:"tabs",children:[e.jsx("button",{className:r===0?"tab active":"tab",onClick:()=>F(0),children:"아이디 찾기"}),e.jsx("button",{className:r===1?"tab active":"tab",onClick:()=>F(1),children:"비밀번호 찾기"})]}),e.jsxs("div",{className:"tab-content",children:[r===0&&e.jsx("div",{className:"tab-pane",children:e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:"이름을 입력하세요",className:"name_input",value:l,onChange:D}),e.jsx("img",{src:L,alt:"MatchPoint_name_ic"})]}),I&&e.jsx("p",{children:"이름을 입력하세요 ❗"}),e.jsxs("div",{className:"input-group",children:[e.jsx(U,{selected:c,onChange:C,placeholderText:"생년월일을 선택하세요",className:"birth_input",dateFormat:"yyyy-MM-dd",showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select",popperPlacement:"bottom",onFocus:s=>s.target.blur()}),e.jsx("img",{src:q,alt:"MatchPoint_birth_ic"})]}),S&&e.jsx("p",{children:"생년월일을 선택하세요 ❗"}),e.jsx("button",{type:"submit",children:"아이디 찾기"})]})}),r===1&&e.jsx("div",{className:"tab-pane",children:e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:"이름을 입력하세요",className:"name_input",value:l,onChange:D}),e.jsx("img",{src:L,alt:"MatchPoint_name_ic"})]}),I&&e.jsx("p",{children:"이름을 입력하세요 ❗"}),e.jsxs("div",{className:"input-group",children:[e.jsx(U,{selected:c,onChange:C,placeholderText:"생년월일을 선택하세요",className:"birth_input",dateFormat:"yyyy-MM-dd",showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select",onFocus:s=>s.target.blur(),popperPlacement:"bottom"}),e.jsx("img",{src:q,alt:"MatchPoint_birth_ic"})]}),S&&e.jsx("p",{children:"생년월일을 선택하세요 ❗"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:"아이디를 입력하세요",className:"id_input",value:j,onChange:O}),e.jsx("img",{src:K,alt:"MatchPoint_id_ic"})]}),A&&e.jsx("p",{children:"아이디를 입력하세요 ❗"}),e.jsx("button",{type:"submit",children:"비밀번호 찾기"})]})})]})]})]})]})}export{re as default};
